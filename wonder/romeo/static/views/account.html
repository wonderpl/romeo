<div id="page-account" class="section" ng-controller="AccountController">
    <div ng-if="State === 'SUCCESS'">
        <div class="background" style="background-image: url((~ profileData.profileURL ~));"></div>
        <div ng-if="isEditable" class="edit-text">
            <label for="profile-picker">Upload A Cover Image</label>
            <input id="profile-picker" type="file" class="hidden-input"
                   onchange="angular.element(this).scope().changeField('profile_cover', this.files[0])"/>
        </div>
        <div class="avatar" style="background-image: url((~ profileData.avatarURL ~));">
            <div ng-if="isEditable" class="avatar-change">
                <label for="avatar-picker" class="icon-export">&nbsp;</label>
                <input id="avatar-picker" type="file" class="hidden-input"
                       onchange="angular.element(this).scope().changeField('avatar', this.files[0])"/>
            </div>
        </div>
        <div ng-if="isLoggedIn" class="edit-icons">
            <span ng-click="toggleEditable()" ng-class="{ active: isEditable }" class="wp-button">Edit Profile</span>
            <!--            <span>(ipad)</span>
                        <span>iphone</span>-->
        </div>
        <div class="inner">
            <div class="row full-width">
                <h2 class="name" contenteditable="{{isEditable}}" onblur="angular.element(this).scope().changeField('name', this.innerHTML)" onkeydown="angular.element(this).scope().disallowNewlines(event)">{{ profileData.name }}</h2>
            </div>
            <div class="row full-width">
                <h3 class="display-name" contenteditable="{{isEditable}}" onblur="angular.element(this).scope().changeField('display_name', this.innerHTML)" onkeydown="angular.element(this).scope().disallowNewlines(event)">{{ profileData.username }}</h3>
            </div>
            <div class="row full-width">
                <h3 class="name">{{ profileData.description }}</h3>
            </div>
        </div>
    </div>
    <div ng-if="State === 'NOT_FOUND'">
        <div class="account-error">Profile Not Found</div>
    </div>
    <div ng-if="State === 'ERROR'">
        <div class="account-error">Error Loading Profile</div>
    </div>
    <div ng-if="State === 'INIT'">
        <div class="account-loading">Loading Profile</div>
    </div>
</div>

